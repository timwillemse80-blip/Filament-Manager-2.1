
import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'nl' | 'en' | 'de' | 'fr' | 'es';

const translations: Record<Language, Record<string, string>> = {
  nl: {
    // Menu & Tabs
    dashboard: "Dashboard",
    inventory: "Voorraad",
    printHistory: "Logboek",
    printers: "Printers",
    shopping: "Inkooplijst",
    printPreview: "Print Preview",
    showcaseTitle: "Showcase",
    supportTitle: "Steun Project",
    settings: "Instellingen",
    admin: "Admin Dashboard",
    menu: "Menu",
    menuManagement: "Overzicht & Beheer",
    menuTools: "Tools",
    menuPremium: "Premium",
    becomePro: "Word PRO",
    userRatingText: "Gebruikers beoordelen ons met een",
    madeBy: "Gemaakt door",
    notifications: "Notificaties",
    
    // Forms
    formNewTitle: "Nieuw Filament",
    formEditTitle: "Filament Bewerken",
    scanTitle: "AI Scanner",
    lookupMode: "Label Scannen",
    analyzingFilament: "Bezig met analyseren...",
    brand: "Merk",
    selectBrand: "Kies Merk",
    material: "Materiaal",
    color: "Kleur",
    weightRemainingLabel: "Huidig Gewicht",
    tempNozzle: "Nozzle Temp (°C)",
    addToInventory: "Toevoegen aan voorraad",
    saveChanges: "Opslaan",
    price: "Prijs",
    weightTotal: "Totaalgewicht",
    location: "Locatie",
    supplier: "Leverancier",
    notes: "Notities",

    // Print Preview
    dropGcode: "Sleep G-code hier of klik om te uploaden",
    autoCalculatedDesc: "Voorraad en AMS-slots worden automatisch gecontroleerd.",
    configuration: "Configuratie",
    printQuantity: "Aantal Prints",
    waitingForPrinter: "Wachten op Printer",
    waitingForPrinterDesc: "Selecteer een printer om AMS-slots te controleren.",
    readyToPrint: "Klaar voor Print",
    notReadyToPrint: "Niet Klaar",
    checkAlertsBelow: "Controleer de waarschuwingen hieronder.",
    checkStock: "Voorraad Controle",
    totalRequired: "Totaal Nodig",
    noMatchingSpool: "Geen passende spoel gevonden",
    inStock: "In Voorraad",
    insufficientStock: "Onvoldoende Voorraad",
    proposedSlot: "Voorgesteld Slot",
    slot: "Slot",
    loadFromStock: "Laden uit voorraad",
    notInAms: "Deze kleur zit niet in de AMS",
    selectPrinterFirst: "Selecteer eerst een printer...",
    perfectMatch: "Perfecte Match",
    
    // Settings Sections
    tabGeneral: "Algemeen",
    tabNotifications: "Meldingen",
    tabManagement: "Beheer",
    tabAccount: "Account",
    tabPro: "PRO",
    appearance: "Uiterlijk",
    winterEdition: "Winter Editie",
    winterEditionDesc: "Sneeuwvlokken op het dashboard",
    language: "Taal",
    aboutApp: "Over de App",
    help: "Hulp & Ondersteuning",
    privacyPolicy: "Privacyverklaring",
    donateButton: "Koop een koffie",
    lowStockWarning: "Lage Voorraad Waarschuwing",
    unusedWarning: "Ongebruikt Waarschuwing",
    days: "dagen",
    enableUpdateNotifications: "Ontvang meldingen over nieuwe versies",
    logout: "Uitloggen",
    tabData: "Gegevensbeheer",
    backupCreate: "Backup Maken",
    backupRestore: "Backup Herstellen",
    dangerZone: "Gevarenzone",
    deleteAccount: "Account Verwijderen",
    deleteAccountDesc: "Verwijder al je gegevens definitief uit onze database.",
    cancelDeletion: "Verwijdering Annuleren",
    requestSent: "Verzoek ingediend",
    requestCancelled: "Verzoek geannuleerd",
    confirmCancelDeletion: "Weet je zeker dat je het verwijderverzoek wilt intrekken?",
    proTools: "PRO Calculator Tools",
    proToolsDesc: "Stel hier je tarieven in voor de automatische kostenberekening.",
    electricityRate: "Elektriciteitsprijs (€/kWh)",
    hourlyRate: "Uurtarief / Arbeid (€/u)",
    profitMargin: "Winstmarge (%)",
    roundToNine: "Prijzen afronden op .x9",
    proFeatureLocked: "PRO Functie Vergrendeld",
    upgradeToUnlock: "Upgrade naar PRO om dit te gebruiken",
    locationManager: "Locatie Beheer",
    addLocation: "Locatie Toevoegen",
    supplierManager: "Leverancier Beheer",
    addSupplier: "Leverancier Toevoegen",
    confirmBackup: "Weet je zeker dat je een backup wilt importeren? Je huidige gegevens worden overschreven.",
    
    // Common Actions
    save: "Opslaan",
    cancel: "Annuleren",
    delete: "Verwijder",
    edit: "Bewerk",
    close: "Sluiten",
    back: "Terug",
    name: "Naam",
    description: "Omschrijving",
    website: "Website",
    none: "Geen",

    // Colors
    zwart: "Zwart", wit: "Wit", grijs: "Grijs", zilver: "Zilver", rood: "Rood", blauw: "Blauw", 
    groen: "Groen", geel: "Geel", oranje: "Oranje", paars: "Paars", roze: "Roze", goud: "Goud", 
    brons: "Brons", transparant: "Transparant", naturel: "Naturel", "glow in the dark": "Glow in the Dark", regenboog: "Regenboog"
  },
  en: {
    dashboard: "Dashboard",
    inventory: "Inventory",
    printHistory: "Print History",
    printers: "Printers",
    shopping: "Shopping List",
    printPreview: "Print Preview",
    showcaseTitle: "Showcase",
    supportTitle: "Support Project",
    settings: "Settings",
    admin: "Admin Panel",
    menu: "Menu",
    menuManagement: "Management",
    menuTools: "Tools",
    menuPremium: "Premium",
    becomePro: "Become PRO",
    userRatingText: "Users rate us with a",
    madeBy: "Made by",
    notifications: "Notifications",

    formNewTitle: "New Filament",
    formEditTitle: "Edit Filament",
    scanTitle: "AI Scanner",
    lookupMode: "Scan Label",
    analyzingFilament: "Analyzing...",
    brand: "Brand",
    selectBrand: "Select Brand",
    material: "Material",
    color: "Color",
    weightRemainingLabel: "Current Weight",
    tempNozzle: "Nozzle Temp (°C)",
    addToInventory: "Add to Inventory",
    saveChanges: "Save",
    price: "Price",
    weightTotal: "Total Weight",
    location: "Location",
    supplier: "Supplier",
    notes: "Notes",

    dropGcode: "Drop G-code here or click to upload",
    autoCalculatedDesc: "Inventory and AMS slots are automatically checked.",
    configuration: "Configuration",
    printQuantity: "Print Quantity",
    waitingForPrinter: "Waiting for Printer",
    waitingForPrinterDesc: "Select a printer to check AMS slots.",
    readyToPrint: "Ready to Print",
    notReadyToPrint: "Not Ready",
    checkAlertsBelow: "Check the alerts below.",
    checkStock: "Stock Check",
    totalRequired: "Total Required",
    noMatchingSpool: "No matching spool found",
    inStock: "In Stock",
    insufficientStock: "Insufficient Stock",
    proposedSlot: "Proposed Slot",
    slot: "Slot",
    loadFromStock: "Load from stock",
    notInAms: "This color is not in the AMS",
    selectPrinterFirst: "Select a printer first...",
    perfectMatch: "Perfect Match",

    tabGeneral: "General",
    tabNotifications: "Notifications",
    tabManagement: "Management",
    tabAccount: "Account",
    tabPro: "PRO",
    appearance: "Appearance",
    winterEdition: "Winter Edition",
    winterEditionDesc: "Snowflakes on the dashboard",
    language: "Language",
    aboutApp: "About the App",
    help: "Help & Support",
    privacyPolicy: "Privacy Policy",
    donateButton: "Buy me a coffee",
    lowStockWarning: "Low Stock Warning",
    unusedWarning: "Unused Warning",
    days: "days",
    enableUpdateNotifications: "Receive notifications about new versions",
    logout: "Logout",
    tabData: "Data Management",
    backupCreate: "Create Backup",
    backupRestore: "Restore Backup",
    dangerZone: "Danger Zone",
    deleteAccount: "Delete Account",
    deleteAccountDesc: "Permanently remove all your data from our database.",
    cancelDeletion: "Cancel Deletion",
    requestSent: "Request submitted",
    requestCancelled: "Request cancelled",
    confirmCancelDeletion: "Are you sure you want to withdraw the deletion request?",
    proTools: "PRO Calculator Tools",
    proToolsDesc: "Set your rates for automatic cost calculation here.",
    electricityRate: "Electricity Price ($/kWh)",
    hourlyRate: "Hourly Rate / Labor ($/h)",
    profitMargin: "Profit Margin (%)",
    roundToNine: "Round prices to .x9",
    proFeatureLocked: "PRO Feature Locked",
    upgradeToUnlock: "Upgrade to PRO to use this",
    locationManager: "Location Manager",
    addLocation: "Add Location",
    supplierManager: "Supplier Manager",
    addSupplier: "Add Supplier",
    confirmBackup: "Are you sure you want to import a backup? Your current data will be overwritten.",

    save: "Save",
    cancel: "Cancel",
    delete: "Delete",
    edit: "Edit",
    close: "Close",
    back: "Back",
    name: "Name",
    description: "Description",
    website: "Website",
    none: "None",

    zwart: "Black", wit: "White", grijs: "Grey", zilver: "Silver", rood: "Red", blauw: "Blue", 
    groen: "Green", geel: "Yellow", oranje: "Orange", paars: "Purple", roze: "Pink", goud: "Gold", 
    brons: "Bronze", transparant: "Transparent", naturel: "Natural", "glow in the dark": "Glow in the Dark", regenboog: "Rainbow"
  },
  de: {
    dashboard: "Dashboard",
    inventory: "Inventar",
    printHistory: "Logbuch",
    printers: "Drucker",
    shopping: "Einkaufsliste",
    printPreview: "Druckvorschau",
    showcaseTitle: "Schaukasten",
    supportTitle: "Unterstützen",
    settings: "Einstellungen",
    admin: "Admin",
    menu: "Menü",
    menuManagement: "Verwaltung",
    menuTools: "Werkzeuge",
    menuPremium: "Premium",
    becomePro: "PRO werden",
    userRatingText: "Nutzer bewerten uns mit",
    madeBy: "Erstellt von",
    notifications: "Meldungen",

    formNewTitle: "Neues Filament",
    formEditTitle: "Filament bearbeiten",
    scanTitle: "AI-Scanner",
    lookupMode: "Etikett scannen",
    analyzingFilament: "Analysieren...",
    brand: "Marke",
    selectBrand: "Marke wählen",
    material: "Material",
    color: "Farbe",
    weightRemainingLabel: "Aktuelles Gewicht",
    tempNozzle: "Düsentemperatur (°C)",
    addToInventory: "Zum Inventar hinzufügen",
    saveChanges: "Speichern",
    price: "Preis",
    weightTotal: "Gesamtgewicht",
    location: "Standort",
    supplier: "Lieferant",
    notes: "Notizen",

    dropGcode: "G-Code hier ablegen oder zum Hochladen klicken",
    autoCalculatedDesc: "Inventar und AMS-Slots werden automatisch geprüft.",
    configuration: "Konfiguration",
    printQuantity: "Druckmenge",
    waitingForPrinter: "Warten auf Drucker",
    waitingForPrinterDesc: "Wählen Sie einen Drucker aus, um AMS-Slots zu prüfen.",
    readyToPrint: "Bereit zum Drucken",
    notReadyToPrint: "Nicht bereit",
    checkAlertsBelow: "Prüfen Sie die Warnungen unten.",
    checkStock: "Bestandsprüfung",
    totalRequired: "Gesamt benötigt",
    noMatchingSpool: "Keine passende Spule gefunden",
    inStock: "Auf Lager",
    insufficientStock: "Unzureichender Vorrat",
    proposedSlot: "Vorgeschlagener Slot",
    slot: "Slot",
    loadFromStock: "Aus Vorrat laden",
    notInAms: "Diese Farbe ist nicht im AMS",
    selectPrinterFirst: "Zuerst Drucker auswählen...",
    perfectMatch: "Perfekte Übereinstimmung",

    tabGeneral: "Allgemein",
    tabNotifications: "Meldungen",
    tabManagement: "Verwaltung",
    tabAccount: "Konto",
    tabPro: "PRO",
    appearance: "Aussehen",
    winterEdition: "Winter-Edition",
    winterEditionDesc: "Schneeflocken auf dem Dashboard",
    language: "Sprache",
    aboutApp: "Über die App",
    help: "Hilfe & Support",
    privacyPolicy: "Datenschutz",
    donateButton: "Kaffee spendieren",
    lowStockWarning: "Niedriger Lagerbestand",
    unusedWarning: "Inaktivitäts-Warnung",
    days: "Tage",
    enableUpdateNotifications: "Benachrichtigungen über neue Versionen",
    logout: "Abmelden",
    tabData: "Datenverwaltung",
    backupCreate: "Backup erstellen",
    backupRestore: "Backup einspielen",
    dangerZone: "Gefahrenzone",
    deleteAccount: "Konto löschen",
    deleteAccountDesc: "Löschen Sie alle Ihre Daten dauerhaft aus unserer Datenbank.",
    cancelDeletion: "Löschung abbrechen",
    requestSent: "Anfrage gesendet",
    requestCancelled: "Anfrage abgebrochen",
    confirmCancelDeletion: "Sind Sie sicher, dass Sie die Löschanfrage zurückziehen möchten?",
    proTools: "PRO Rechner-Tools",
    proToolsDesc: "Stellen Sie hier Ihre Tarife für die Kostenberechnung ein.",
    electricityRate: "Strompreis (€/kWh)",
    hourlyRate: "Stundensatz / Arbeit (€/h)",
    profitMargin: "Gewinnspanne (%)",
    roundToNine: "Preise auf .x9 runden",
    proFeatureLocked: "PRO Funktion gesperrt",
    upgradeToUnlock: "Upgrade auf PRO, um dies zu nutzen",
    locationManager: "Standortverwaltung",
    addLocation: "Standort hinzufügen",
    supplierManager: "Lieferantenverwaltung",
    addSupplier: "Lieferant hinzufügen",
    confirmBackup: "Möchten Sie wirklich ein Backup importieren? Ihre aktuellen Daten werden überschrieben.",

    save: "Speichern",
    cancel: "Abbrechen",
    delete: "Löschen",
    edit: "Bearbeiten",
    close: "Schließen",
    back: "Zurück",
    name: "Name",
    description: "Beschreibung",
    website: "Webseite",
    none: "Keine",

    zwart: "Schwarz", wit: "Weiß", grijs: "Grau", zilver: "Silber", rood: "Rot", blauw: "Blau", 
    groen: "Grün", geel: "Gelb", oranje: "Orange", paars: "Lila", roze: "Rosa", goud: "Gold", 
    brons: "Bronze", transparant: "Transparent", naturel: "Natur", "glow in the dark": "Glow in the Dark", regenboog: "Regenbogen"
  },
  fr: {
    dashboard: "Tableau de bord",
    inventory: "Inventaire",
    printHistory: "Historique",
    printers: "Imprimantes",
    shopping: "Liste d'achats",
    printPreview: "Aperçu",
    showcaseTitle: "Vitrine",
    supportTitle: "Soutenir le projet",
    settings: "Paramètres",
    admin: "Admin",
    menu: "Menu",
    menuManagement: "Gestion",
    menuTools: "Outils",
    menuPremium: "Premium",
    becomePro: "Devenir PRO",
    userRatingText: "Les utilisateurs nous notent",
    madeBy: "Fait par",
    notifications: "Notifications",

    formNewTitle: "Nouveau filament",
    formEditTitle: "Modifier le filament",
    scanTitle: "Scanner IA",
    lookupMode: "Scanner l'étiquette",
    analyzingFilament: "Analyse en cours...",
    brand: "Marque",
    selectBrand: "Choisir la marque",
    material: "Matériau",
    color: "Couleur",
    weightRemainingLabel: "Poids actuel",
    tempNozzle: "Température de buse (°C)",
    addToInventory: "Ajouter à l'inventaire",
    saveChanges: "Enregistrer",
    price: "Prix",
    weightTotal: "Poids total",
    location: "Emplacement",
    supplier: "Fournisseur",
    notes: "Notes",

    dropGcode: "Déposez le G-code ici ou cliquez pour télécharger",
    autoCalculatedDesc: "L'inventaire et les emplacements AMS sont vérifiés automatiquement.",
    configuration: "Configuration",
    printQuantity: "Quantité d'impressions",
    waitingForPrinter: "En attente de l'imprimante",
    waitingForPrinterDesc: "Sélectionnez une imprimante pour vérifier les slots AMS.",
    readyToPrint: "Prêt à imprimer",
    notReadyToPrint: "Pas prêt",
    checkAlertsBelow: "Vérifiez les alertes ci-dessous.",
    checkStock: "Vérification du stock",
    totalRequired: "Total requis",
    noMatchingSpool: "Aucune bobine correspondante trouvée",
    inStock: "En stock",
    insufficientStock: "Stock insuffisant",
    proposedSlot: "Emplacement proposé",
    slot: "Slot",
    loadFromStock: "Charger depuis le stock",
    notInAms: "Cette couleur n'est pas dans l'AMS",
    selectPrinterFirst: "Sélectionnez d'abord une imprimante...",
    perfectMatch: "Correspondance parfaite",

    tabGeneral: "Général",
    tabNotifications: "Notifications",
    tabManagement: "Gestion",
    tabAccount: "Compte",
    tabPro: "PRO",
    appearance: "Apparence",
    winterEdition: "Édition Hiver",
    winterEditionDesc: "Flocons de neige sur le tableau de bord",
    language: "Langue",
    aboutApp: "À propos de l'app",
    help: "Aide & Support",
    privacyPolicy: "Confidentialité",
    donateButton: "Achetez-moi un café",
    lowStockWarning: "Alerte stock bas",
    unusedWarning: "Alerte inactivité",
    days: "jours",
    enableUpdateNotifications: "Notifications pour les nouvelles versions",
    logout: "Déconnexion",
    tabData: "Gestion des données",
    backupCreate: "Créer une sauvegarde",
    backupRestore: "Restaurer une sauvegarde",
    dangerZone: "Zone de danger",
    deleteAccount: "Supprimer le compte",
    deleteAccountDesc: "Supprimez définitivement toutes vos données de notre base.",
    cancelDeletion: "Annuler la suppression",
    requestSent: "Demande soumise",
    requestCancelled: "Demande annulée",
    confirmCancelDeletion: "Êtes-vous sûr de vouloir annuler la demande ?",
    proTools: "Outils PRO Calculator",
    proToolsDesc: "Configurez vos tarifs pour le calcul automatique des coûts.",
    electricityRate: "Prix électricité (€/kWh)",
    hourlyRate: "Tarif horaire / Main d'œuvre (€/h)",
    profitMargin: "Marge bénéficiaire (%)",
    roundToNine: "Arrondir les prix à .x9",
    proFeatureLocked: "Fonction PRO verrouillée",
    upgradeToUnlock: "Passez à PRO pour utiliser ceci",
    locationManager: "Gestion des lieux",
    addLocation: "Ajouter un lieu",
    supplierManager: "Gestion fournisseurs",
    addSupplier: "Ajouter un fournisseur",
    confirmBackup: "Voulez-vous vraiment importer une sauvegarde ? Vos données actuelles seront écrasées.",

    save: "Enregistrer",
    cancel: "Annuler",
    delete: "Supprimer",
    edit: "Modifier",
    close: "Fermer",
    back: "Retour",
    name: "Nom",
    description: "Description",
    website: "Site Web",
    none: "Aucun",

    zwart: "Noir", wit: "Blanc", grijs: "Gris", zilver: "Argent", rood: "Rouge", blauw: "Bleu", 
    groen: "Vert", geel: "Jaune", oranje: "Orange", paars: "Violet", roze: "Rose", goud: "Or", 
    brons: "Bronze", transparant: "Transparent", naturel: "Naturel", "glow in the dark": "Fluorescent", regenboog: "Arc-en-ciel"
  },
  es: {
    dashboard: "Panel",
    inventory: "Inventario",
    printHistory: "Historial",
    printers: "Impresoras",
    shopping: "Lista de compras",
    printPreview: "Vista previa",
    showcaseTitle: "Vitrina",
    supportTitle: "Apoyar proyecto",
    settings: "Ajustes",
    admin: "Admin",
    menu: "Menú",
    menuManagement: "Gestión",
    menuTools: "Herramientas",
    menuPremium: "Premium",
    becomePro: "Hacerse PRO",
    userRatingText: "Los usuarios nos califican con",
    madeBy: "Hecho por",
    notifications: "Notificaciones",

    formNewTitle: "Nuevo filamento",
    formEditTitle: "Editar filamento",
    scanTitle: "Escáner IA",
    lookupMode: "Escanear etiqueta",
    analyzingFilament: "Analizando...",
    brand: "Marca",
    selectBrand: "Seleccionar marca",
    material: "Material",
    color: "Color",
    weightRemainingLabel: "Peso actual",
    tempNozzle: "Temp. boquilla (°C)",
    addToInventory: "Añadir al inventario",
    saveChanges: "Guardar",
    price: "Precio",
    weightTotal: "Peso total",
    location: "Ubicación",
    supplier: "Proveedor",
    notes: "Notas",

    dropGcode: "Arrastra el G-code aquí o haz clic para subir",
    autoCalculatedDesc: "El inventario y los slots AMS se comprueban automáticamente.",
    configuration: "Configuración",
    printQuantity: "Cantidad de impresiones",
    waitingForPrinter: "Esperando impresora",
    waitingForPrinterDesc: "Selecciona una impresora para comprobar los slots AMS.",
    readyToPrint: "Listo para imprimir",
    notReadyToPrint: "No está listo",
    checkAlertsBelow: "Consulta las alertas a continuación.",
    checkStock: "Control de stock",
    totalRequired: "Total requerido",
    noMatchingSpool: "No se encontró ninguna bobina coincidente",
    inStock: "En stock",
    insufficientStock: "Stock insuficiente",
    proposedSlot: "Slot propuesto",
    slot: "Slot",
    loadFromStock: "Cargar desde stock",
    notInAms: "Este color no está en el AMS",
    selectPrinterFirst: "Selecciona primero una impresora...",
    perfectMatch: "Combinación perfecta",

    tabGeneral: "General",
    tabNotifications: "Notificaciones",
    tabManagement: "Gestión",
    tabAccount: "Cuenta",
    tabPro: "PRO",
    appearance: "Apariencia",
    winterEdition: "Edición de Invierno",
    winterEditionDesc: "Copos de nieve en el panel",
    language: "Idioma",
    aboutApp: "Sobre la App",
    help: "Ayuda y Soporte",
    privacyPolicy: "Privacidad",
    donateButton: "Cómprame un café",
    lowStockWarning: "Aviso de stock bajo",
    unusedWarning: "Aviso de inactividad",
    days: "días",
    enableUpdateNotifications: "Notificaciones de nuevas versiones",
    logout: "Cerrar sesión",
    tabData: "Gestión de datos",
    backupCreate: "Crear copia",
    backupRestore: "Restaurar copia",
    dangerZone: "Zona de peligro",
    deleteAccount: "Eliminar cuenta",
    deleteAccountDesc: "Elimina permanentemente todos tus datos de nuestra base.",
    cancelDeletion: "Cancelar eliminación",
    requestSent: "Solicitud enviada",
    requestCancelled: "Solicitud cancelada",
    confirmCancelDeletion: "¿Estás seguro de cancelar la solicitud ?",
    proTools: "Herramientas PRO Calculator",
    proToolsDesc: "Configura tus tarifas para el cálculo de costes.",
    electricityRate: "Precio electricidad (€/kWh)",
    hourlyRate: "Tarifa por hora / Mano de obra (€/h)",
    profitMargin: "Margen de beneficio (%)",
    roundToNine: "Redondear precios a .x9",
    proFeatureLocked: "Función PRO bloqueada",
    upgradeToUnlock: "Pásate a PRO para usar esto",
    locationManager: "Gestión de ubicaciones",
    addLocation: "Añadir ubicación",
    supplierManager: "Gestión proveedores",
    addSupplier: "Añadir proveedor",
    confirmBackup: "¿Deseas importar una copia? Se sobrescribirán tus datos actuales.",

    save: "Guardar",
    cancel: "Cancelar",
    delete: "Eliminar",
    edit: "Editar",
    close: "Cerrar",
    back: "Volver",
    name: "Nombre",
    description: "Descripción",
    website: "Sitio web",
    none: "Ninguna",

    zwart: "Negro", wit: "Blanco", grijs: "Gris", zilver: "Plata", rood: "Rojo", blauw: "Azul", 
    groen: "Verde", geel: "Amarillo", oranje: "Naranja", paars: "Morado", roze: "Rosa", goud: "Oro", 
    brons: "Bronce", transparant: "Transparente", naturel: "Natural", "glow in the dark": "Fluorescente", regenboog: "Arcoíris"
  }
};

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
  tColor: (color: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>(() => {
    return (localStorage.getItem('app_language') as Language) || 'nl';
  });

  useEffect(() => {
    localStorage.setItem('app_language', language);
    document.documentElement.lang = language;
  }, [language]);

  const t = (key: string): string => {
    if (!key) return '';
    return translations[language][key] || translations['en'][key] || key;
  };

  const tColor = (color: string): string => {
    if (!color) return '';
    const lowerColor = color.toLowerCase();
    return translations[language][lowerColor] || translations['en'][lowerColor] || color;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, tColor }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
