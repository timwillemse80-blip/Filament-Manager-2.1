import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'nl' | 'en' | 'de' | 'fr' | 'es';

const translations = {
  nl: {
    // Menu & Tabs
    inventory: "Voorraad",
    filaments: "Filamenten",
    materials: "Materialen",
    locations: "Locaties",
    suppliers: "Leveranciers",
    printers: "Printers",
    shopping: "Inkooplijst",
    settings: "Instellingen",
    logout: "Uitloggen",
    menu: "Menu",
    menuManagement: "Overzicht & Beheer",
    menuTools: "Tools",
    menuPremium: "Premium",
    loggedInAs: "Ingelogd als",
    madeBy: "Gemaakt door",
    feedback: "Feedback",
    printHistory: "Logboek",
    dashboard: "Dashboard",
    supportTitle: "Steun Project",
    admin: "Admin Dashboard",
    becomePro: "Word PRO",
    help: "Hulp & Contact",
    userRatingText: "Gebruikers beoordelen ons met een",
    showcaseTitle: "Showcase",
    spools: "Spoelen & Gewichten",
    requests: "Verzoeken",
    notifications: "Meldingen",
    
    // Global / Common
    save: "Opslaan",
    cancel: "Annuleren",
    delete: "Verwijder",
    edit: "Bewerk",
    close: "Sluiten",
    back: "Terug",
    next: "Volgende",
    finish: "Afronden",
    loading: "Laden...",
    search: "Zoeken",
    filter: "Filteren",
    sort: "Sorteren",
    actions: "Acties",
    name: "Naam",
    description: "Omschrijving",
    optional: "Optioneel",
    website: "Website",
    date: "Datum",
    status: "Status",
    success: "Gelukt",
    failed: "Mislukt",
    unknown: "Onbekend",
    all: "Alles",
    none: "Geen",
    selected: "geselecteerd",
    send: "Versturen",
    markAsRead: "Markeer als gelezen",
    markAsUnread: "Markeer als ongelezen",
    add: "Toevoegen",
    filtered: "Gefilterd",
    stock: "Voorraad",
    minutes: "minuten",
    slot: "Slot",
    confirmDelete: "Weet je zeker dat je dit wilt verwijderen?",
    
    // Inventory & Form
    searchPlaceholder: "Zoek op merk, kleur, materiaal of ID...",
    newFilament: "Nieuw Filament",
    formNewTitle: "Nieuw Filament",
    formEditTitle: "Filament Bewerken",
    newMaterial: "Nieuw Materiaal",
    allStocked: "Alles is op voorraad!",
    allStockedDesc: "Er zijn geen items onder de minimum voorraad.",
    noFilaments: "Geen filamenten gevonden.",
    noMaterials: "Geen materialen gevonden.",
    weightRemaining: "Resterend",
    viewSpools: "Bekijk spoelen",
    order: "Bestellen",
    searchGoogle: "Zoeken op Google",
    totalWeight: "Totaal Gewicht",
    items: "items",
    lowStock: "Bijna Leeg",
    totalValue: "Totale Waarde",
    totalCosts: "Totale Kosten",
    totalSpools: "Totaal Spoelen",
    successRate: "Succes Ratio",
    materialDistribution: "Materiaal Verdeling",
    lowestStock: "Laagste Voorraad",
    investmentBrand: "Investering per Merk",
    noData: "Geen data beschikbaar",
    winterEdition: "Winter Editie",
    proFeatureLocked: "PRO Functie",
    upgradeToUnlock: "Upgrade om te ontgrendelen",
    printLabel: "Print Label",
    scanLabel: "Scan Label",
    scanInstruction: "Scan de QR-code of het etiket op de spoel",
    scanTitle: "Slimme Scanner",
    scanDesc: "Scan een spoel om deze direct op te zoeken of toe te voegen.",
    lookupMode: "Zoekmodus",
    lookupFound: "Spoel gevonden!",
    lookupNotFound: "Geen spoel gevonden met dit ID.",
    
    // Showcase
    showcaseSubtitle: "Deel je voorraad met anderen",
    showcaseName: "Jouw Publieke Naam",
    previewShowcase: "Bekijk Preview",
    publicStock: "Publieke Voorraad",
    availableItems: "Beschikbare items",
    loginClose: "Login / Sluiten",
    showcaseFilterLabel: "Welk filament tonen?",
    showcaseEverything: "Alles Tonen",
    showcaseFilterDesc: "Selecteer materialen om de link te filteren. Niets geselecteerd = Alles zichtbaar.",
    showcaseLinkTitle: "Jouw Unieke Link",
    showcasePrivacyTitle: "Privacy Info",
    showcasePrivacyDesc: "Bezoekers zien alleen merk, materiaal, kleur en beschikbaarheid. Prijzen, locaties en notities blijven altijd privé.",
    copyLink: "Kopieer Link",

    // Notifications Page
    notificationsSubtitle: "Blijf op de hoogte van nieuwe functies en updates.",
    noNotifications: "Geen nieuwe meldingen",
    allCaughtUp: "Je bent helemaal bij!",
    newUpdate: "Nieuwe Update!",
    versionActive: "Versie %v is nu actief",
    installed: "Geïnstalleerd",
    whatsNew: "Wat is er nieuw",
    autoUpdateMsg: "De app is automatisch bijgewerkt naar de nieuwste versie.",
    publishedOn: "Gepubliceerd op",
    security: "Veiligheid",
    securityDesc: "Updates bevatten vaak belangrijke beveiligingsverbeteringen.",
    speed: "Snelheid",
    speedDesc: "We optimaliseren de app constant voor een snellere ervaring.",

    // Logbook
    recentActivity: "Recente Activiteit",
    exportCsv: "Exporteer CSV",
    logPrint: "Print Loggen",
    dragDrop: "Sleep je G-code hierheen of klik om te uploaden",
    noHistory: "Nog geen printgeschiedenis gevonden.",
    netCost: "Netto Kosten",
    sellPrice: "Verkoopprijs",
    projectName: "Projectnaam",
    projectNamePlaceholder: "bv. Baby Yoda",
    timeOptional: "Tijd (Optioneel)",
    exampleTime: "bv. 2h 45m",
    usedMaterials: "Gebruikte Filamenten",
    addSlot: "Slot Toevoegen",
    manualEntry: "Of voer handmatig gegevens in",
    saveUpdate: "Opslaan & Voorraad Bijwerken",
    analyzing: "G-code Analyseren...",
    overrideWeight: "Totaal Gewicht Overschrijven",
    autoCalculated: "Wordt automatisch berekend",
    details: "Details",
    weight: "Gewicht",
    duration: "Duur",
    assemblyTimeLabel: "Assemblage Tijd",
    otherMaterials: "Overige Materialen",
    noExtraMaterials: "Geen extra materialen toegevoegd.",
    searchMaterial: "Zoek materiaal...",
    electricity: "Stroom",
    depreciation: "Afschrijving",
    labor: "Arbeid/Opslag",
    profitMarginLabel: "Winstmarge",
    rounding: "Afronding",
    noDetailedCost: "Geen gedetailleerde kosten beschikbaar voor deze print.",
    unknownMaterial: "Onbekend materiaal",

    // Settings
    tabGeneral: "Algemeen",
    tabNotifications: "Meldingen",
    tabData: "Data & Backup",
    tabAccount: "Account",
    tabPro: "Pro Tools",
    tabManagement: "Beheer",
    appearance: "Weergave",
    darkMode: "Donker",
    lightMode: "Licht",
    language: "Taal",
    lowStockWarning: "Laag Voorraad Waarschuwing",
    unusedWarning: "Lang niet gebruikt",
    days: "dagen",
    backupCreate: "Backup Maken",
    backupRestore: "Backup Terugzetten",
    dangerZone: "Gevarenzone",
    deleteAccount: "Account Verwijderen",
    deleteAccountDesc: "Dit verwijdert al je data permanent. Dit kan niet worden teruggedraaid.",
    cancelDeletion: "Verzoek Annuleren",
    requestSent: "Verzoek verstuurd. Je data wordt binnen 48 uur verwijderd.",
    requestCancelled: "Verwijderverzoek geannuleerd.",
    proTools: "Tools & Calculator",
    proToolsDesc: "Vul hier je kosten in om de verkoopprijs van je prints automatisch te berekenen.",
    electricityRate: "Stroomtarief (€/kWh)",
    hourlyRate: "Uurtarief (€/uur)",
    profitMargin: "Winstmarge (%)",
    roundToNine: "Afronden op .x9",
    exampleElectricityRate: "bv. 0.35",
    exampleHourlyRate: "bv. 2.00",
    roundingLabel: "Afronding",
    privacyPolicy: "Privacyverklaring",
    donateButton: "Steun Project",
    stayLoggedIn: "Ingelogd blijven",
    locationManager: "Locatiebeheer",
    addLocation: "Locatie Toevoegen",
    exampleLocation: "bv. Werkplaats",
    noLocations: "Geen locaties gevonden.",
    supplierManager: "Leveranciersbeheer",
    addSupplier: "Leverancier Toevoegen",
    exampleSupplier: "bv. 123-3D",
    exampleWebsite: "bv. www.mijnwinkel.nl",
    noSuppliers: "Geen leveranciers gevonden.",
    winterEditionDesc: "Laat het sneeuwen in de app!",
    aboutApp: "Over de app",
    proComingSoonMsg: "Deze functie komt binnenkort beschikbaar voor PRO leden.",
    
    // Support Page
    supportPageTitle: "Steun dit project",
    supportPageSubtitle: "Help mee om de servers online te houden en de app te verbeteren.",
    serverCosts: "Server Kosten",
    serverCostsDesc: "Je bijdrage helpt direct bij het betalen van de database en hosting.",
    development: "Ontwikkeling",
    developmentDesc: "Nieuwe functies zoals de AI-scanner kosten tijd en rekenkracht.",
    adFree: "100% Reclamevrij",
    adFreeDesc: "Geen vervelende ads, alleen tools voor makers.",
    thankYouNote: "Bedankt voor je support!",

    // Forms Common
    brand: "Merk",
    color: "Kleur",
    material: "Materiaal",
    category: "Categorie",
    quantity: "Aantal",
    unit: "Eenheid",
    price: "Prijs",
    notes: "Notities",
    weightTotalLabel: "Totaal (g)",
    weightRemainingLabel: "Resterend (g)",
    tempNozzle: "Nozzle (°C)",
    tempBed: "Bed (°C)",
    location: "Locatie",
    supplier: "Leverancier",
    shopUrl: "Winkel URL",
    addMultiple: "Aantal Spoelen Toevoegen",
    saveChanges: "Wijzigingen Opslaan",
    addToInventory: "Toevoegen aan Voorraad",
    clear: "Wissen",
    selectBrand: "Kies merk...",
    otherBrand: "+ Ander merk...",
    selectMaterial: "Kies materiaal...",
    otherMaterial: "+ Ander materiaal...",
    selectColor: "Kies kleur...",
    otherColor: "+ Andere kleur...",
    colorNamePlaceholder: "Kleurnaam",
    newLocationPlaceholder: "Nieuwe locatie...",
    newSupplierPlaceholder: "Nieuwe leverancier...",
    newLocationOption: "+ Nieuwe Locatie...",
    newSupplierOption: "+ Nieuwe Leverancier...",

    // Weigh Helper
    weighHelper: "Weeg Hulp",
    grossWeight: "Bruto Gewicht",
    spoolType: "Type Lege Spoel",
    tareWeight: "Tarra Gewicht",
    apply: "Overnemen",
    suggestSpool: "Staat jouw spoel er niet tussen?",
    result: "Resultaat",

    // Auth
    invalidCredentials: "Ongeldig emailadres of wachtwoord.",
    exampleEmail: "bv. info@voorbeeld.nl",
    passwordPlaceholder: "Je wachtwoord"
  },
  en: {
    inventory: "Inventory",
    filaments: "Filaments",
    materials: "Materials",
    locations: "Locations",
    suppliers: "Suppliers",
    printers: "Printers",
    shopping: "Shopping List",
    settings: "Settings",
    logout: "Log Out",
    menu: "Menu",
    menuManagement: "Overview & Management",
    menuTools: "Tools",
    menuPremium: "Premium",
    loggedInAs: "Logged in as",
    madeBy: "Created by",
    feedback: "Feedback",
    printHistory: "Print History",
    dashboard: "Dashboard",
    supportTitle: "Support Project",
    admin: "Admin Dashboard",
    becomePro: "Become PRO",
    help: "Help & Contact",
    userRatingText: "Users rate us with a",
    showcaseTitle: "Showcase",
    spools: "Spools & Weights",
    requests: "Requests",
    notifications: "Notifications",
    
    save: "Save",
    cancel: "Cancel",
    delete: "Delete",
    edit: "Edit",
    close: "Close",
    back: "Back",
    next: "Next",
    finish: "Finish",
    loading: "Loading...",
    search: "Search",
    filter: "Filter",
    sort: "Sort",
    actions: "Actions",
    name: "Name",
    description: "Description",
    optional: "Optional",
    website: "Website",
    date: "Date",
    status: "Status",
    success: "Success",
    failed: "Failed",
    unknown: "Unknown",
    all: "All",
    none: "None",
    selected: "selected",
    send: "Send",
    markAsRead: "Mark as read",
    markAsUnread: "Mark as unread",
    add: "Add",
    filtered: "Filtered",
    stock: "Stock",
    minutes: "minutes",
    slot: "Slot",
    confirmDelete: "Are you sure you want to delete this?",

    searchPlaceholder: "Search brand, color, material or ID...",
    newFilament: "New Filament",
    formNewTitle: "New Filament",
    formEditTitle: "Edit Filament",
    newMaterial: "New Material",
    allStocked: "Everything is in stock!",
    allStockedDesc: "There are no items below minimum stock.",
    noFilaments: "No filaments found.",
    noMaterials: "No materials found.",
    weightRemaining: "Remaining",
    viewSpools: "View spools",
    order: "Order",
    searchGoogle: "Search on Google",
    totalWeight: "Total Weight",
    items: "items",
    lowStock: "Low Stock",
    totalValue: "Total Value",
    totalCosts: "Total Cost",
    totalSpools: "Total Spools",
    successRate: "Success Rate",
    materialDistribution: "Material Distribution",
    lowestStock: "Lowest Stock",
    investmentBrand: "Investment by Brand",
    noData: "No data available",
    winterEdition: "Winter Edition",
    proFeatureLocked: "PRO Feature",
    upgradeToUnlock: "Upgrade to unlock",
    printLabel: "Print Label",
    scanLabel: "Scan Label",
    scanInstruction: "Scan the QR code or spool label",
    scanTitle: "Smart Scanner",
    scanDesc: "Scan a spool to instantly find it or add it.",
    lookupMode: "Lookup Mode",
    lookupFound: "Spool found!",
    lookupNotFound: "No spool found with this ID.",

    // Showcase
    showcaseSubtitle: "Share your inventory with others",
    showcaseName: "Your Public Name",
    previewShowcase: "Preview Showcase",
    publicStock: "Public Stock",
    availableItems: "Available items",
    loginClose: "Login / Close",
    showcaseFilterLabel: "Which filament to show?",
    showcaseEverything: "Show Everything",
    showcaseFilterDesc: "Select materials to filter the link. Nothing selected = Everything visible.",
    showcaseLinkTitle: "Your Unique Link",
    showcasePrivacyTitle: "Privacy Info",
    showcasePrivacyDesc: "Visitors only see brand, material, color and availability. Prices, locations and notes always stay private.",
    copyLink: "Copy Link",

    // Notifications Page
    notificationsSubtitle: "Stay informed about new features and updates.",
    noNotifications: "No new notifications",
    allCaughtUp: "You're all caught up!",
    newUpdate: "New Update!",
    versionActive: "Version %v is now active",
    installed: "Installed",
    whatsNew: "What's new",
    autoUpdateMsg: "The app has been automatically updated to the latest version.",
    publishedOn: "Published on",
    security: "Security",
    securityDesc: "Updates often include important security improvements.",
    speed: "Speed",
    speedDesc: "We constantly optimize the app for a faster experience.",

    // Logbook
    recentActivity: "Recent Activity",
    exportCsv: "Export CSV",
    logPrint: "Log Print",
    dragDrop: "Drag your G-code here or click to upload",
    noHistory: "No print history found yet.",
    netCost: "Net Cost",
    sellPrice: "Sell Price",
    projectName: "Project Name",
    projectNamePlaceholder: "e.g. Baby Yoda",
    timeOptional: "Time (Optional)",
    exampleTime: "e.g. 2h 45m",
    usedMaterials: "Used Filaments",
    addSlot: "Add Slot",
    manualEntry: "Or enter data manually",
    saveUpdate: "Save & Update Stock",
    analyzing: "Analyzing G-code...",
    overrideWeight: "Override Total Weight",
    autoCalculated: "Calculated automatically",
    details: "Details",
    weight: "Weight",
    duration: "Duration",
    assemblyTimeLabel: "Assembly Time",
    otherMaterials: "Other Materials",
    noExtraMaterials: "No extra materials added.",
    searchMaterial: "Search material...",
    electricity: "Electricity",
    depreciation: "Depreciation",
    labor: "Labor/Markup",
    profitMarginLabel: "Profit Margin",
    rounding: "Rounding",
    noDetailedCost: "No detailed costs available for this print.",
    unknownMaterial: "Unknown material",

    // Settings
    tabGeneral: "General",
    tabNotifications: "Notifications",
    tabData: "Data & Backup",
    tabAccount: "Account",
    tabPro: "Pro Tools",
    tabManagement: "Management",
    appearance: "Appearance",
    darkMode: "Dark",
    lightMode: "Light",
    language: "Language",
    lowStockWarning: "Low Stock Warning",
    unusedWarning: "Unused Warning",
    days: "days",
    backupCreate: "Create Backup",
    backupRestore: "Restore Backup",
    dangerZone: "Danger Zone",
    deleteAccount: "Delete Account",
    deleteAccountDesc: "This will permanently delete all your data. This cannot be undone.",
    cancelDeletion: "Cancel Request",
    requestSent: "Request sent. Your data will be deleted within 48 hours.",
    requestCancelled: "Deletion request cancelled.",
    proTools: "Pro Tools",
    proToolsDesc: "Enter your costs here to automatically calculate the selling price of your prints.",
    electricityRate: "Electricity Rate (€/kWh)",
    hourlyRate: "Hourly Rate (€/h)",
    profitMargin: "Profit Margin (%)",
    roundToNine: "Round to .x9",
    exampleElectricityRate: "e.g. 0.35",
    exampleHourlyRate: "e.g. 2.00",
    roundingLabel: "Rounding",
    privacyPolicy: "Privacy Policy",
    donateButton: "Support Project",
    stayLoggedIn: "Stay Logged In",
    locationManager: "Location Management",
    addLocation: "Add Location",
    exampleLocation: "e.g. Workshop",
    noLocations: "No locations found.",
    supplierManager: "Supplier Management",
    addSupplier: "Add Supplier",
    exampleSupplier: "e.g. Amazon",
    exampleWebsite: "e.g. www.myshop.com",
    noSuppliers: "No suppliers found.",
    winterEditionDesc: "Make it snow in the app!",
    aboutApp: "About the app",
    proComingSoonMsg: "This feature will be available soon for PRO members.",

    // Support Page
    supportPageTitle: "Support this project",
    supportPageSubtitle: "Help keep the servers online and improve the app.",
    serverCosts: "Server Costs",
    serverCostsDesc: "Your contribution directly helps pay for database and hosting.",
    development: "Development",
    developmentDesc: "New features like the AI scanner take time and processing power.",
    adFree: "100% Ad-Free",
    adFreeDesc: "No annoying ads, just tools for makers.",
    thankYouNote: "Thanks for your support!",

    brand: "Brand",
    color: "Color",
    material: "Material",
    category: "Category",
    quantity: "Quantity",
    unit: "Unit",
    price: "Price",
    notes: "Notes",
    weightTotalLabel: "Total (g)",
    weightRemainingLabel: "Remaining (g)",
    tempNozzle: "Nozzle (°C)",
    tempBed: "Bed (°C)",
    location: "Location",
    supplier: "Supplier",
    shopUrl: "Shop URL",
    addMultiple: "Add Multiple Spools",
    saveChanges: "Save Changes",
    addToInventory: "Add to Inventory",
    clear: "Clear",
    selectBrand: "Select brand...",
    otherBrand: "+ Other brand...",
    selectMaterial: "Select material...",
    otherMaterial: "+ Other material...",
    selectColor: "Select color...",
    otherColor: "+ Other color...",
    colorNamePlaceholder: "Color Name",
    newLocationPlaceholder: "New location...",
    newSupplierPlaceholder: "New supplier...",
    newLocationOption: "+ New Location...",
    newSupplierOption: "+ New Supplier...",

    weighHelper: "Weigh Helper",
    grossWeight: "Gross Weight",
    spoolType: "Empty Spool Type",
    tareWeight: "Tare Weight",
    apply: "Apply",
    suggestSpool: "Spool not listed?",
    result: "Result",

    invalidCredentials: "Invalid email or password.",
    exampleEmail: "e.g. info@example.com",
    passwordPlaceholder: "Your password"
  },
  de: {
    inventory: "Vorrat",
    filaments: "Filamente",
    materials: "Materialien",
    locations: "Standorte",
    suppliers: "Lieferanten",
    printers: "Drucker",
    shopping: "Einkaufsliste",
    settings: "Einstellungen",
    logout: "Abmelden",
    menu: "Menü",
    menuManagement: "Übersicht & Verwaltung",
    menuTools: "Werkzeuge",
    menuPremium: "Premium",
    loggedInAs: "Angemeldet als",
    madeBy: "Erstellt von",
    feedback: "Feedback",
    printHistory: "Druckverlauf",
    dashboard: "Dashboard",
    supportTitle: "Projekt unterstützen",
    admin: "Admin Dashboard",
    becomePro: "PRO werden",
    help: "Hilfe & Kontakt",
    userRatingText: "Nutzer bewerten uns mit",
    showcaseTitle: "Showcase",
    spools: "Spulen & Gewichte",
    requests: "Anfragen",
    notifications: "Meldungen",
    
    save: "Speichern",
    cancel: "Abbrechen",
    delete: "Löschen",
    edit: "Bearbeiten",
    close: "Schließen",
    back: "Zurück",
    next: "Weiter",
    finish: "Abschließen",
    loading: "Lädt...",
    search: "Suchen",
    filter: "Filtern",
    sort: "Sortieren",
    actions: "Aktionen",
    name: "Name",
    description: "Beschreibung",
    optional: "Optional",
    website: "Webseite",
    date: "Datum",
    status: "Status",
    success: "Erfolgreich",
    failed: "Fehlgeschlagen",
    unknown: "Unbekannt",
    all: "Alle",
    none: "Keine",
    selected: "ausgewählt",
    send: "Senden",
    markAsRead: "Gelesen markieren",
    markAsUnread: "Ungelesen markieren",
    add: "Hinzufügen",
    filtered: "Gefiltert",
    stock: "Bestand",
    minutes: "Minuten",
    slot: "Slot",
    confirmDelete: "Sind Sie sicher, dass Sie dies löschen möchten?",

    searchPlaceholder: "Suchen nach Marke, Farbe, Material oder ID...",
    newFilament: "Neues Filament",
    formNewTitle: "Neues Filament",
    formEditTitle: "Filament bearbeiten",
    newMaterial: "Neues Material",
    allStocked: "Alles auf Lager!",
    allStockedDesc: "Es gibt keine Artikel unter dem Mindestbestand.",
    noFilaments: "Keine Filamente gefunden.",
    noMaterials: "Keine Materialien gefunden.",
    weightRemaining: "Verbleibend",
    viewSpools: "Spulen anzeigen",
    order: "Bestellen",
    searchGoogle: "Auf Google suchen",
    totalWeight: "Gesamtgewicht",
    items: "Artikel",
    lowStock: "Bestand niedrig",
    totalValue: "Gesamtwert",
    totalCosts: "Gesamtkosten",
    totalSpools: "Gesamt Spulen",
    successRate: "Erfolgsrate",
    materialDistribution: "Materialverteilung",
    lowestStock: "Geringster Bestand",
    investmentBrand: "Investition nach Marke",
    noData: "Keine Daten verfügbar",
    winterEdition: "Winter Edition",
    proFeatureLocked: "PRO Funktion",
    upgradeToUnlock: "Upgrade zum Freischalten",
    printLabel: "Etikett drucken",

    // Showcase
    showcaseSubtitle: "Teilen Sie Ihren Bestand mit anderen",
    showcaseName: "Dein öffentlicher Name",
    previewShowcase: "Vorschau anzeigen",
    publicStock: "Öffentlicher Vorrat",
    availableItems: "Verfügbare Artikel",
    loginClose: "Anmelden / Schließen",
    showcaseFilterLabel: "Welche Filamente anzeigen?",
    showcaseEverything: "Alles anzeigen",
    showcaseFilterDesc: "Materialien zum Filtern auswählen. Nichts gewählt = Alles sichtbar.",
    showcaseLinkTitle: "Ihr persönlicher Link",
    showcasePrivacyTitle: "Datenschutz-Info",
    showcasePrivacyDesc: "Besucher sehen nur Marke, Material, Farbe und Verfügbarkeit. Preise, Standorte und Notizen bleiben immer privat.",
    copyLink: "Link kopieren",

    // Notifications Page
    notificationsSubtitle: "Bleiben Sie über neue Funktionen und Updates informiert.",
    noNotifications: "Keine neuen Benachrichtigungen",
    allCaughtUp: "Du bist auf dem neuesten Stand!",
    newUpdate: "New Update!",
    versionActive: "Version %v ist jetzt aktiv",
    installed: "Installiert",
    whatsNew: "Was gibt's Neues",
    autoUpdateMsg: "Die App wurde automatisch auf die neueste Version aktualisiert.",
    publishedOn: "Veröffentlicht am",
    security: "Sicherheit",
    securityDesc: "Updates enthalten oft wichtige Sicherheitsverbeterungen.",
    speed: "Geschwindigkeit",
    speedDesc: "Wir optimieren die App ständig für ein schnelleres Erlebnis.",

    // Logbook
    recentActivity: "Neueste Aktivitäten",
    exportCsv: "CSV Export",
    logPrint: "Druck loggen",
    dragDrop: "G-Code hierher ziehen oder klicken",
    noHistory: "Noch kein Druckverlauf.",
    netCost: "Nettokosten",
    sellPrice: "Verkaufspreis",
    projectName: "Projektname",
    projectNamePlaceholder: "z.B. Baby Yoda",
    timeOptional: "Zeit (Optional)",
    exampleTime: "z.B. 2h 45m",
    usedMaterials: "Verwendete Filamente",
    addSlot: "Slot hinzufügen",
    manualEntry: "Oder Daten manuell eingeben",
    saveUpdate: "Speichern & Bestand aktualisieren",
    analyzing: "G-Code analysieren...",
    overrideWeight: "Gewicht überschreiben",
    autoCalculated: "Wird automatisch berechnet",
    details: "Details",
    weight: "Gewicht",
    duration: "Dauer",
    assemblyTimeLabel: "Montagezeit",
    otherMaterials: "Andere Materialien",
    noExtraMaterials: "Keine zusätzlichen Materialien.",
    searchMaterial: "Material suchen...",
    electricity: "Strom",
    depreciation: "Abschreibung",
    labor: "Arbeit/Aufschlag",
    profitMarginLabel: "Gewinnmarge",
    rounding: "Rundung",
    noDetailedCost: "Keine detaillierten Kosten für diesen Druck verfügbar.",
    unknownMaterial: "Unbekanntes Material",

    // Settings
    tabGeneral: "Allgemein",
    tabNotifications: "Benachrichtigungen",
    tabData: "Daten & Backup",
    tabAccount: "Konto",
    tabPro: "Pro Tools",
    tabManagement: "Verwaltung",
    appearance: "Darstellung",
    darkMode: "Dunkel",
    lightMode: "Hell",
    language: "Sprache",
    lowStockWarning: "Bestandswarnung",
    unusedWarning: "Lange unbenutzt",
    days: "Tage",
    backupCreate: "Backup erstellen",
    backupRestore: "Backup laden",
    dangerZone: "Gevarenzone",
    deleteAccount: "Konto löschen",
    deleteAccountDesc: "Dies löscht alle Ihre Daten dauerhaft. Dies kann nicht rückgängig gemacht werden.",
    cancelDeletion: "Anfrage abbrechen",
    requestSent: "Anfrage gesendet. Ihre Daten werden innerhalb von 48 Stunden gelöscht.",
    requestCancelled: "Löschanfrage abgebrochen.",
    proTools: "Pro Tools",
    proToolsDesc: "Geben Sie hier Ihre Kosten ein, um den Verkaufspreis automatisch zu berechnen.",
    electricityRate: "Strompreis (€/kWh)",
    hourlyRate: "Stundensatz (€/Std)",
    profitMargin: "Gewinnmarge (%)",
    roundToNine: "Auf .x9 runden",
    exampleElectricityRate: "z.B. 0.35",
    exampleHourlyRate: "z.B. 2.00",
    roundingLabel: "Rundung",
    privacyPolicy: "Datenschutz",
    donateButton: "Unterstützen",
    stayLoggedIn: "Ingelogd blijven",
    locationManager: "Standortverwaltung",
    addLocation: "Standort hinzufügen",
    exampleLocation: "z.B. Werkstatt",
    noLocations: "Keine Standorte gefunden.",
    supplierManager: "Anbieterverwaltung",
    addSupplier: "Anbieter hinzufügen",
    exampleSupplier: "z.B. Amazon",
    exampleWebsite: "z.B. www.meinshop.de",
    noSuppliers: "Keine Anbieter gefunden.",
    winterEditionDesc: "Lass es in der App schneien!",
    aboutApp: "Über die App",
    proComingSoonMsg: "Diese Funktion wird bald für PRO-Mitglieder verfügbar sein.",

    // Support Page
    supportPageTitle: "Projekt unterstützen",
    supportPageSubtitle: "Helfen Sie mit, die Server online zu halten und die App zu verbessern.",
    serverCosts: "Serverkosten",
    serverCostsDesc: "Ihr Beitrag hilft direkt bei der Finanzierung von Datenbank und Hosting.",
    development: "Entwicklung",
    developmentDesc: "Neue Funktionen wie der KI-Scanner kosten Zeit und Rechenleistung.",
    adFree: "100% Werbefrei",
    adFreeDesc: "Keine nervige Werbung, nur Werkzeuge für Macher.",
    thankYouNote: "Danke für deine Unterstützung!",

    brand: "Marke",
    color: "Farbe",
    material: "Material",
    category: "Kategorie",
    quantity: "Menge",
    unit: "Einheit",
    price: "Preis",
    notes: "Notizen",
    weightTotalLabel: "Gesamt (g)",
    weightRemainingLabel: "Verbleibend (g)",
    tempNozzle: "Düse (°C)",
    tempBed: "Bett (°C)",
    location: "Standort",
    supplier: "Lieferant",
    shopUrl: "Shop URL",
    addMultiple: "Mehrere Spulen hinzufügen",
    saveChanges: "Änderungen speichern",
    addToInventory: "Zum Inventar hinzufügen",
    clear: "Löschen",
    selectBrand: "Marke wählen...",
    otherBrand: "+ Andere Marke...",
    selectMaterial: "Material wählen...",
    otherMaterial: "+ Anderes Material...",
    selectColor: "Farbe wählen...",
    otherColor: "+ Andere Farbe...",
    colorNamePlaceholder: "Farbname",
    newLocationPlaceholder: "Neuer Standort...",
    newSupplierPlaceholder: "Neuer Lieferant...",
    newLocationOption: "+ Neuer Standort...",
    newSupplierOption: "+ Neuer Lieferant...",

    weighHelper: "Wiegehilfe",
    grossWeight: "Bruttogewicht",
    spoolType: "Leere Spulentyp",
    tareWeight: "Taragewicht",
    apply: "Übernehmen",
    suggestSpool: "Spule nicht in Liste?",
    result: "Ergebnis",

    invalidCredentials: "E-Mail oder Passwort ungültig.",
    exampleEmail: "z.B. info@beispiel.de",
    passwordPlaceholder: "Dein Passwort"
  },
  fr: {
    inventory: "Inventaire",
    filaments: "Filaments",
    materials: "Matériaux",
    locations: "Emplacements",
    suppliers: "Fournisseurs",
    printers: "Imprimantes",
    shopping: "Achats",
    settings: "Paramètres",
    logout: "Déconnexion",
    menu: "Menu",
    menuManagement: "Aperçu & Gestion",
    menuTools: "Outils",
    menuPremium: "Premium",
    loggedInAs: "Connecté en tant que",
    madeBy: "Créé par",
    feedback: "Avis",
    printHistory: "Historique",
    dashboard: "Tableau de bord",
    supportTitle: "Soutenir le projet",
    admin: "Admin Dashboard",
    becomePro: "Devenir PRO",
    help: "Aide & Contact",
    userRatingText: "Les utilisateurs nous notent",
    showcaseTitle: "Vitrine",
    spools: "Bobines & Poids",
    requests: "Demandes",
    notifications: "Notifications",
    
    save: "Enregistrer",
    cancel: "Annuler",
    delete: "Supprimer",
    edit: "Modifier",
    close: "Fermer",
    back: "Retour",
    next: "Suivant",
    finish: "Terminer",
    loading: "Chargement...",
    search: "Rechercher",
    filter: "Filtrer",
    sort: "Trier",
    actions: "Actions",
    name: "Nom",
    description: "Description",
    optional: "Optionnel",
    website: "Site Web",
    date: "Date",
    status: "Statut",
    success: "Réussi",
    failed: "Échoué",
    unknown: "Inconnu",
    all: "Tout",
    none: "Aucun",
    selected: "sélectionné",
    send: "Envoyer",
    markAsRead: "Lu",
    markAsUnread: "Non lu",
    add: "Ajouter",
    filtered: "Filtré",
    stock: "Stock",
    minutes: "minutes",
    slot: "Slot",
    confirmDelete: "Êtes-vous sûr de vouloir supprimer ceci ?",

    searchPlaceholder: "Chercher marque, couleur, matériau...",
    newFilament: "Nouveau Filament",
    formNewTitle: "Nouveau Filament",
    formEditTitle: "Modifier Filament",
    newMaterial: "Nouveau Matériau",
    allStocked: "Tout est en stock !",
    allStockedDesc: "Il n'y a aucun article en dessous du stock professionnel.",
    noFilaments: "Aucun filament trouvé.",
    noMaterials: "Aucun matériau trouvé.",
    weightRemaining: "Restant",
    viewSpools: "Voir bobines",
    order: "Commander",
    searchGoogle: "Chercher sur Google",
    totalWeight: "Poids Total",
    items: "articles",
    lowStock: "Stock Faible",
    totalValue: "Valeur Totale",
    totalCosts: "Coût total",
    totalSpools: "Total Bobines",
    successRate: "Taux de réussite",
    materialDistribution: "Répartition",
    lowestStock: "Stock bas",
    investmentBrand: "Investissement",
    noData: "Aucune donnée",
    winterEdition: "Édition Hiver",
    proFeatureLocked: "Fonction PRO",
    upgradeToUnlock: "Passez PRO",
    printLabel: "Étiquette",

    // Showcase
    showcaseSubtitle: "Partagez votre inventaire",
    showcaseName: "Votre nom public",
    previewShowcase: "Aperçu",
    publicStock: "Stock Public",
    availableItems: "Articles dispos",
    loginClose: "Connecter / Fermer",
    showcaseFilterLabel: "Quels filaments afficher ?",
    showcaseEverything: "Tout afficher",
    showcaseFilterDesc: "Sélectionnez les matériaux pour filtrer le lien. Rien sélectionné = Tout visible.",
    showcaseLinkTitle: "Votre lien unique",
    showcasePrivacyTitle: "Infos confidentialité",
    showcasePrivacyDesc: "Les visiteurs ne voient que la marque, le matériau, la couleur et la disponibilité. Les prix, emplacements et notes restent privés.",
    copyLink: "Copier le lien",

    // Notifications Page
    notificationsSubtitle: "Restez informé des nouvelles fonctionnalités et mises à jour.",
    noNotifications: "Aucune nouvelle notification",
    allCaughtUp: "Vous êtes à jour !",
    newUpdate: "Nouvelle mise à jour !",
    versionActive: "La version %v est maintenant active",
    installed: "Installé",
    whatsNew: "Quoi de neuf",
    autoUpdateMsg: "L'application a été automatiquement mise à jour vers la dernière version.",
    publishedOn: "Publié le",
    security: "Sécurité",
    securityDesc: "Les mises à jour incluent souvent d'importantes améliorations de sécurité.",
    speed: "Vitesse",
    speedDesc: "Nous optimisons constamment l'application pour une expérience plus rapide.",

    // Logbook
    recentActivity: "Activité recente",
    exportCsv: "Exporter CSV",
    logPrint: "Journal de bord",
    dragDrop: "Glissez votre G-code ici",
    noHistory: "Pas d'historique trouvé.",
    netCost: "Coût Net",
    sellPrice: "Prix de vente",
    projectName: "Nom du projet",
    projectNamePlaceholder: "ex. Baby Yoda",
    timeOptional: "Temps (Optionnel)",
    exampleTime: "ex. 2h 45m",
    usedMaterials: "Filaments utilisés",
    addSlot: "Ajouter Slot",
    manualEntry: "Ou saisir manuellement",
    saveUpdate: "Sauver & Mettre à jour stock",
    analyzing: "Analyse G-code...",
    overrideWeight: "Surcharger poids total",
    autoCalculated: "Calculé automatiquement",
    details: "Details",
    weight: "Poids",
    duration: "Durée",
    assemblyTimeLabel: "Temps de montage",
    otherMaterials: "Autres matériaux",
    noExtraMaterials: "Aucun matériau supplémentaire.",
    searchMaterial: "Chercher matériau...",
    electricity: "Électricité",
    depreciation: "Amortissement",
    labor: "Main-d'œuvre",
    profitMarginLabel: "Marge bénéficiaire",
    rounding: "Arrondi",
    noDetailedCost: "Aucun coût détaillé disponible pour cette impression.",
    unknownMaterial: "Matériau inconnu",

    // Settings
    tabGeneral: "Général",
    tabNotifications: "Notifications",
    tabData: "Données & Backup",
    tabAccount: "Compte",
    tabPro: "Outils Pro",
    tabManagement: "Gestion",
    appearance: "Apparence",
    darkMode: "Sombre",
    lightMode: "Clair",
    language: "Langue",
    lowStockWarning: "Alerte stock",
    unusedWarning: "Inutilisé longtemps",
    days: "jours",
    backupCreate: "Sauvegarder",
    backupRestore: "Restaurer",
    dangerZone: "Zone de danger",
    deleteAccount: "Supprimer le compte",
    deleteAccountDesc: "Ceci supprimera définitivement toutes vos données. Cette action est irréversible.",
    cancelDeletion: "Annuler la demande",
    requestSent: "Demande envoyée. Vos données seront supprimées sous 48 heures.",
    requestCancelled: "Demande de suppression annulée.",
    proTools: "Outils Pro",
    proToolsDesc: "Saisissez vos coûts pour calculer automatiquement le prix de vente.",
    electricityRate: "Prix élec. (€/kWh)",
    hourlyRate: "Taux horaire (€/h)",
    profitMargin: "Marge bénéf. (%)",
    roundToNine: "Arrondir à .x9",
    exampleElectricityRate: "ex. 0.35",
    exampleHourlyRate: "ex. 2.00",
    roundingLabel: "Arrondi",
    privacyPolicy: "Confidentialité",
    donateButton: "Soutenir",
    stayLoggedIn: "Rester connecté",
    locationManager: "Gestion des lieux",
    addLocation: "Ajouter lieu",
    exampleLocation: "ex. Atelier",
    noLocations: "Aucun lieu trouvé.",
    supplierManager: "Gestion des fournisseurs",
    addSupplier: "Ajouter fournisseur",
    exampleSupplier: "ex. Amazon",
    exampleWebsite: "ex. www.monshop.fr",
    noSuppliers: "Aucun fournisseur trouvé.",
    winterEditionDesc: "Faites-le neiger dans l'application !",
    aboutApp: "À propos de l'app",
    proComingSoonMsg: "Cette fonctionnalité sera bientôt disponible pour les membres PRO.",

    // Support Page
    supportPageTitle: "Soutenir ce projet",
    supportPageSubtitle: "Aidez-nous à maintenir les serveurs en ligne et à améliorer l'application.",
    serverCosts: "Coûts du serveur",
    serverCostsDesc: "Votre contribution aide directement à payer la base de données et l'hébergement.",
    development: "Développement",
    developmentDesc: "Les nouvelles fonctions comme le scanner IA coûtent du temps et de la puissance.",
    adFree: "100% Sans Pub",
    adFreeDesc: "Pas de pub ennuyeuse, juste des outils pour les makers.",
    thankYouNote: "Merci pour votre soutien !",

    brand: "Marque",
    color: "Couleur",
    material: "Matériau",
    category: "Catégorie",
    quantity: "Quantité",
    unit: "Unité",
    price: "Prix",
    notes: "Notes",
    weightTotalLabel: "Total (g)",
    weightRemainingLabel: "Restant (g)",
    tempNozzle: "Buse (°C)",
    tempBed: "Plateau (°C)",
    location: "Emplacement",
    supplier: "Fournisseur",
    shopUrl: "URL Boutique",
    addMultiple: "Ajouter plusieurs bobines",
    saveChanges: "Enregistrer",
    addToInventory: "Ajouter à l'inventaire",
    clear: "Effacer",
    selectBrand: "Choisir marque...",
    otherBrand: "+ Autre marque...",
    selectMaterial: "Choisir matériau...",
    otherMaterial: "+ Autre matériau...",
    selectColor: "Choisir couleur...",
    otherColor: "+ Autre couleur...",
    colorNamePlaceholder: "Nom couleur",
    newLocationPlaceholder: "Nouveau lieu...",
    newSupplierPlaceholder: "Nouveau fourn...",
    newLocationOption: "+ Nouveau Lieu...",
    newSupplierOption: "+ Nouveau Fourn...",

    weighHelper: "Aide pesée",
    grossWeight: "Poids brut",
    spoolType: "Type bobine vide",
    tareWeight: "Poids tare",
    apply: "Appliquer",
    suggestSpool: "Bobine pas dans la liste ?",
    result: "Résultat",

    invalidCredentials: "Email ou mot de passe incorrect.",
    exampleEmail: "ex. info@exemple.fr",
    passwordPlaceholder: "Votre mot de passe"
  },
  es: {
    inventory: "Inventario",
    filaments: "Filamentos",
    materials: "Materiales",
    locations: "Ubicaciones",
    suppliers: "Proveedores",
    printers: "Impresoras",
    shopping: "Lista Compras",
    settings: "Ajustes",
    logout: "Salir",
    menu: "Menú",
    menuManagement: "Resumen y Gestión",
    menuTools: "Herramientas",
    menuPremium: "Premium",
    loggedInAs: "Conectado como",
    madeBy: "Creado por",
    feedback: "Opinión",
    printHistory: "Historial",
    dashboard: "Panel",
    supportTitle: "Apoyar",
    admin: "Admin",
    becomePro: "Hazte PRO",
    help: "Ayuda & Contacto",
    userRatingText: "Los usuarios califican",
    showcaseTitle: "Escaparate",
    spools: "Bobinas & Pesos",
    requests: "Solicitudes",
    notifications: "Notificaciones",
    
    save: "Guardar",
    cancel: "Cancelar",
    delete: "Borrar",
    edit: "Editar",
    close: "Cerrar",
    back: "Atrás",
    next: "Siguiente",
    finish: "Terminar",
    loading: "Cargando...",
    search: "Buscar",
    filter: "Filtrar",
    sort: "Ordenar",
    actions: "Acciones",
    name: "Nombre",
    description: "Descripción",
    optional: "Opcional",
    website: "Sitio Web",
    date: "Fecha",
    status: "Estado",
    success: "Éxito",
    failed: "Fallo",
    unknown: "Desconocido",
    all: "Todo",
    none: "Ninguno",
    selected: "seleccionado",
    send: "Enviar",
    markAsRead: "Leído",
    markAsUnread: "No leído",
    add: "Añadir",
    filtered: "Filtrado",
    stock: "Existencias",
    minutes: "minutos",
    slot: "Slot",
    confirmDelete: "¿Estás seguro de que deseas eliminar esto?",

    searchPlaceholder: "Marca, color, material...",
    newFilament: "Nuevo Filamento",
    formNewTitle: "Nuevo Filamento",
    formEditTitle: "Editar Filamento",
    newMaterial: "Nuevo Material",
    allStocked: "¡Todo en stock!",
    allStockedDesc: "No hay artículos por debajo del stock mínimo.",
    noFilaments: "Sin filamentos.",
    noMaterials: "Sin materiales.",
    weightRemaining: "Restante",
    viewSpools: "Ver bobinas",
    order: "Pedir",
    searchGoogle: "Buscar en Google",
    totalWeight: "Peso Total",
    items: "artículos",
    lowStock: "Stock Bajo",
    totalValue: "Valor Total",
    totalCosts: "Coste total",
    totalSpools: "Total Bobinas",
    successRate: "Tasa Éxito",
    materialDistribution: "Distribución",
    lowestStock: "Stock bajo",
    investmentBrand: "Inversión",
    noData: "Sin datos",
    winterEdition: "Edición Invierno",
    proFeatureLocked: "Función PRO",
    upgradeToUnlock: "Pásate a PRO",
    printLabel: "Etiqueta",

    // Showcase
    showcaseSubtitle: "Comparte tu inventario",
    showcaseName: "Tu nombre público",
    previewShowcase: "Vista previa",
    publicStock: "Stock Público",
    availableItems: "Artículos",
    loginClose: "Entrar / Cerrar",
    showcaseFilterLabel: "¿Qué filamentos mostrar?",
    showcaseEverything: "Mostrar todo",
    showcaseFilterDesc: "Selecciona materiales para filtrar el enlace. Sin selección = Todo visible.",
    showcaseLinkTitle: "Tu enlace único",
    showcasePrivacyTitle: "Info privacidad",
    showcasePrivacyDesc: "Los visitantes solo ven marca, material, color y disponibilidad. Los precios, ubicaciones y notas siempre son privados.",
    copyLink: "Copiar enlace",

    // Notifications Page
    notificationsSubtitle: "Mantente informado sobre nuevas funciones y actualizaciones.",
    noNotifications: "No hay nuevas notificaciones",
    allCaughtUp: "¡Estás al día!",
    newUpdate: "¡Nueva actualización!",
    versionActive: "La versión %v ya está activa",
    installed: "Instalado",
    whatsNew: "Qué hay de nuevo",
    autoUpdateMsg: "La aplicación se ha actualizado automáticamente a la última versión.",
    publishedOn: "Publicado el",
    security: "Seguridad",
    securityDesc: "Las actualizaciones suelen incluir importantes mejoras de seguridad.",
    speed: "Velocidad",
    speedDesc: "Optimizamos constantemente la aplicación para una experiencia más rápida.",

    // Logbook
    recentActivity: "Actividad reciente",
    exportCsv: "Exportar CSV",
    logPrint: "Diario de impresión",
    dragDrop: "Arrastra tu G-Code aquí",
    noHistory: "No hay historial.",
    netCost: "Coste Neto",
    sellPrice: "Precio de venta",
    projectName: "Nombre proyecto",
    projectNamePlaceholder: "ej. Baby Yoda",
    timeOptional: "Tiempo (Opcional)",
    exampleTime: "ej. 2h 45m",
    usedMaterials: "Filamentos usados",
    addSlot: "Añadir Slot",
    manualEntry: "O introducir manualmente",
    saveUpdate: "Guardar y Actualizar stock",
    analyzing: "Analizando G-Code...",
    overrideWeight: "Sustituir peso total",
    autoCalculated: "Calculado automáticamente",
    details: "Detalles",
    weight: "Peso",
    duration: "Duración",
    assemblyTimeLabel: "Tiempo montaje",
    otherMaterials: "Otros materiales",
    noExtraMaterials: "Sin materiales extra.",
    searchMaterial: "Buscar material...",
    electricity: "Electricidad",
    depreciation: "Depreciación",
    labor: "Mano de obra",
    profitMarginLabel: "Margen beneficio",
    rounding: "Redondeo",
    noDetailedCost: "No hay costes detallados disponibles para esta impresión.",
    unknownMaterial: "Material desconocido",

    // Settings
    tabGeneral: "General",
    tabNotifications: "Notificaciones",
    tabData: "Datos & Backup",
    tabAccount: "Cuenta",
    tabPro: "Calculadora Pro",
    tabManagement: "Gestión",
    appearance: "Apariencia",
    darkMode: "Oscuro",
    lightMode: "Claro",
    language: "Idioma",
    lowStockWarning: "Aviso de stock",
    unusedWarning: "Sin usar tiempo",
    days: "días",
    backupCreate: "Crear copia",
    backupRestore: "Restaurar copia",
    dangerZone: "Zona de peligro",
    deleteAccount: "Borrar cuenta",
    deleteAccountDesc: "Esto eliminará permanentemente todos tus datos. Esta acción no se puede deshacer.",
    cancelDeletion: "Anular solicitud",
    requestSent: "Solicitud enviada. Tus datos se borrarán en 48 horas.",
    requestCancelled: "Solicitud de eliminación cancelada.",
    proTools: "Herramientas Pro",
    proToolsDesc: "Introduce tus costes para calcular automáticamente el precio de venta.",
    electricityRate: "Tarifa luz (€/kWh)",
    hourlyRate: "Precio hora (€/h)",
    profitMargin: "Margen benef. (%)",
    roundToNine: "Redondear a .x9",
    exampleElectricityRate: "ej. 0.35",
    exampleHourlyRate: "ej. 2.00",
    roundingLabel: "Redondeo",
    privacyPolicy: "Privacidad",
    donateButton: "Apoyar",
    stayLoggedIn: "Mantener sesión",
    locationManager: "Gestión de ubicaciones",
    addLocation: "Añadir ubicación",
    exampleLocation: "ej. Taller",
    noLocations: "No se encontraron ubicaciones.",
    supplierManager: "Gestión de proveedores",
    addSupplier: "Añadir proveedor",
    exampleSupplier: "ej. Amazon",
    exampleWebsite: "ej. www.mitienda.es",
    noSuppliers: "No se encontraron proveedores.",
    winterEditionDesc: "¡Haz que nieve en la aplicación!",
    aboutApp: "Sobre la app",
    proComingSoonMsg: "Esta función estará disponible pronto para miembros PRO.",

    // Support Page
    supportPageTitle: "Apoyar este proyecto",
    supportPageSubtitle: "Ayuda a mantener los servidores online y mejora la aplicación.",
    serverCosts: "Costes del servidor",
    serverCostsDesc: "Tu contribución ayuda directamente a pagar la base de datos y el alojamiento.",
    development: "Desarrollo",
    developmentDesc: "Las nuevas funciones como el escáner IA requieren tiempo y potencia.",
    adFree: "100% Sin Publicidad",
    adFreeDesc: "Sin anuncios molestos, solo herramientas para makers.",
    thankYouNote: "¡Gracias por tu apoyo!",

    brand: "Marke",
    color: "Color",
    material: "Material",
    category: "Categoría",
    quantity: "Cantidad",
    unit: "Unidad",
    price: "Precio",
    notes: "Notas",
    weightTotalLabel: "Total (g)",
    weightRemainingLabel: "Restante (g)",
    tempNozzle: "Boquilla (°C)",
    tempBed: "Cama (°C)",
    location: "Ubicación",
    supplier: "Proveedor",
    shopUrl: "URL Tienda",
    addMultiple: "Añadir varias bobinas",
    saveChanges: "Guardar cambios",
    addToInventory: "Añadir al inventario",
    clear: "Limpiar",
    selectBrand: "Elegir marca...",
    otherBrand: "+ Otra marca...",
    selectMaterial: "Elegir material...",
    otherMaterial: "+ Otro material...",
    selectColor: "Elegir color...",
    otherColor: "+ Otro color...",
    colorNamePlaceholder: "Nombre color",
    newLocationPlaceholder: "Nueva ubic...",
    newSupplierPlaceholder: "Nuevo prov...",
    newLocationOption: "+ Nueva Ubic...",
    newSupplierOption: "+ Nuevo Prov...",

    weighHelper: "Ayuda pesaje",
    grossWeight: "Peso bruto",
    spoolType: "Tipo bobina vacía",
    tareWeight: "Peso tara",
    apply: "Aplicar",
    suggestSpool: "¿No está en la lista?",
    result: "Resultado",

    invalidCredentials: "Email o contraseña incorrecta.",
    exampleEmail: "ej. info@ejemplo.es",
    passwordPlaceholder: "Tu contraseña"
  }
};

const colorTranslations: Record<string, Record<string, string>> = {
  nl: {
    "Zwart": "Zwart", "Wit": "Wit", "Grijs": "Grijs", "Zilver": "Zilver", "Rood": "Rood", "Blauw": "Blauw", "Groen": "Groen", "Geel": "Geel", "Oranje": "Oranje", "Paars": "Paars", "Roze": "Roze", "Goud": "Goud", "Brons": "Brons", "Transparant": "Transparant", "Naturel": "Naturel", "Glow in the Dark": "Glow in the Dark", "Regenboog": "Regenboog"
  },
  en: {
    "Zwart": "Black", "Wit": "White", "Grijs": "Gray", "Zilver": "Silver", "Rood": "Red", "Blauw": "Blue", "Groen": "Green", "Geel": "Yellow", "Oranje": "Orange", "Paars": "Purple", "Roze": "Pink", "Goud": "Gold", "Brons": "Bronze", "Transparant": "Transparent", "Naturel": "Natural", "Glow in the Dark": "Glow in the Dark", "Regenboog": "Rainbow"
  },
  de: {
    "Zwart": "Schwarz", "Wit": "Weiß", "Grijs": "Grau", "Zilver": "Silber", "Rood": "Rot", "Blauw": "Blau", "Groen": "Grün", "Geel": "Gelb", "Oranje": "Orange", "Paars": "Lila", "Roze": "Rosa", "Goud": "Gold", "Brons": "Bronze", "Transparant": "Transparent", "Naturel": "Natur", "Glow in the Dark": "Nachleuchtend", "Regenboog": "Regenbogen"
  },
  fr: {
    "Zwart": "Noir", "Wit": "Blanc", "Grijs": "Gris", "Zilver": "Argent", "Rood": "Rouge", "Blauw": "Bleu", "Groen": "Vert", "Geel": "Jaune", "Oranje": "Orange", "Paars": "Violet", "Roze": "Rose", "Goud": "Or", "Brons": "Bronze", "Transparant": "Transparent", "Naturel": "Naturel", "Glow in the Dark": "Phosphorescent", "Regenboog": "Arc-en-ciel"
  },
  es: {
    "Zwart": "Negro", "Wit": "Blanco", "Grijs": "Gris", "Zilver": "Plata", "Rood": "Rojo", "Blauw": "Azul", "Groen": "Verde", "Geel": "Amarillo", "Oranje": "Naranja", "Paars": "Púrpura", "Roze": "Rosa", "Goud": "Oro", "Brons": "Bronce", "Transparant": "Transparente", "Naturel": "Natural", "Glow in the Dark": "Fosforescente", "Regenboog": "Arcoíris"
  }
};

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
  tColor: (color: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

const getDeviceLanguage = (): Language => {
  const savedLang = localStorage.getItem('app_language') as Language;
  if (savedLang && ['nl', 'en', 'de', 'fr', 'es'].includes(savedLang)) {
    return savedLang;
  }
  if (typeof navigator !== 'undefined' && navigator.language) {
    const browserLang = navigator.language.split('-')[0];
    if (['nl', 'en', 'de', 'fr', 'es'].includes(browserLang)) {
      return browserLang as Language;
    }
  }
  return 'en';
};

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(getDeviceLanguage);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem('app_language', lang);
  };

  const t = (key: string): string => {
    // @ts-ignore
    return translations[language]?.[key] || translations['en']?.[key] || key;
  };

  const tColor = (color: string): string => {
    if (!color) return "";
    const translated = colorTranslations[language]?.[color];
    return translated || color;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, tColor }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};